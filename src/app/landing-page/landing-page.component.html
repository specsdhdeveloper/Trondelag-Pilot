<app-header></app-header>

<div class="header embed-responsive" id="animationFadeIn02">    

    <!--<video autoplay muted loop id="myVideo" oncanplay="this.play()" onloadedmetadata="this.muted = true" preload="auto">
        <source src="https://specs.owncube.com/index.php/s/dCM64UvY79Fj1vr/download?path=%2F&files=Overview-cropped_h264-800p.mp4" type="video/mp4">
    </video>-->

    <script type="text/javascript">
        function loadVideo(url) {
          return new Promise((resolve, reject) => { // here we download it entirely
              let request = new XMLHttpRequest();
              request.responseType = 'blob';
              request.onload = (evt)=>resolve(request.response);
              request.onerror = reject;
              request.open('GET', url);
              request.send();
            }).then((blob)=> 
                new Promise((resolve, reject)=>{
                    resolve(URL.createObjectURL(blob)); // return the blobURL directly
                    })
                );
        
        }
        
        loadVideo('https://specs.owncube.com/index.php/s/dCM64UvY79Fj1vr/download?path=%2F&files=Overview-cropped_h264-800p.mp4')
          .then(blobUrl => { // now it's loaded
            document.body.className = 'loaded';
            let vid = document.querySelector('video');
            vid.src = blobUrl; // we just set our mediaElement's src to this blobURL
            vid.onload = () => URL.revokeObjectURL(blobUrl);
          }).catch((err) => console.log(err));
        </script>
    <video controls></video>

    <!--<div class="container-fluid text-center" id="textVideo">
        <h2 class="title">Destinasjoner</h2>
    </div>-->
</div>

<app-destinationComponent></app-destinationComponent>
<app-storyComponent></app-storyComponent>

<!--CAROUSEL-->
<div class="section">
    <div class="container">
        <div class="col-md-12 ml-auto mr-auto text-center">
            <ngb-carousel>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/tours/bombed.jpg');"></div>
                    <!--<div class="carousel-caption">
                        <h3>First slide label</h3>
                        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                    </div>-->
                </ng-template>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/skatval/Skatval-museum_fb1.jpg');"></div>
                </ng-template>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/dora/VR-Dora5.jpg');"></div>
                </ng-template>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/saami/Saami_Family_1900_crop1.jpg');"></div>
                </ng-template>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/falstad/falstad_app1.png');"></div>
                </ng-template>
                <ng-template ngbSlide>
                    <div class="wrapper" style="background-image: url('assets/img/hegra/HegraData2.jpg');"></div>
                </ng-template>
            </ngb-carousel>
        </div>
    </div>
</div>

<app-footer></app-footer>
